(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{47:function(e,n,t){e.exports=t.p+"static/media/logo.b8503d26.png"},54:function(e,n,t){e.exports=t(86)},85:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(18),o=t.n(i),c=t(7),u=t(1),l=t(2);function d(){var e=Object(u.a)(["\n\nmargin-top:50px;\n\n\n\n"]);return d=function(){return e},e}var s=l.default.main(d());function m(){var e=Object(u.a)(["\ncolor:white;\nfont-size:2rem;\n@media(min-width:500px){\n        display:none;\n}\n\n\n"]);return m=function(){return e},e}function g(){var e=Object(u.a)(["\nheight:100%;\n\n@media(max-width:499px){\n    &.deskopOnly{\n        display:none;\n    }\n}\n"]);return g=function(){return e},e}function p(){var e=Object(u.a)(["\nheight:54px;\nwidth:100%;\nposition:fixed;\ntop:0;\nleft:0;\nbackground-color:brown;\ndisplay:flex;\njustify-content:space-between;\nalign-items:center;\npadding:0 20px;\nbox-sizing: border-box;\nz-index:90;\n"]);return p=function(){return e},e}var f=l.default.header(p()),h=l.default.nav(g()),b=l.default.div(m()),v=t(47),E=t.n(v);function x(){var e=Object(u.a)(["\nbackground-color:white;\npadding:8px;\nheight:80%;\nbox-sizing:border-box;\nborder-radius:10%;\ntext-align:center;\n\nimg{\n    height:100%;\n}\n"]);return x=function(){return e},e}var O=l.default.div(x()),j=t(13);var k=function(e){return a.a.createElement(O,{style:{height:e.height}},a.a.createElement(j.b,{to:"/"},a.a.createElement("img",{src:E.a,alt:"burger logo"})))},y={large:700,medium:401,small:400},w={medium:500,large:1e3};function T(){var e=Object(u.a)(["\n    display:flex;\n    align-items: center;\n    margin:0;\n    flex-direction:column;\n    margin-top:20px;\n  \n@media(min-width:","px){\n    margin-top:0;\n    flex-direction:row;\n    height:100%;\n}\n\n\n"]);return T=function(){return e},e}var C=l.default.ul(T(),w.medium);function A(){var e=Object(u.a)(["\n\nwidth:100%;\nheight:100%;\ndisplay:flex;\nalign-items:center;\nbackground-color:brown;\n\na{\n    background-color:white;\n    width:100%;\n    color:black;\n    height:100%;\n    padding: 16px 10px;\n    border-bottom:4px solid transparent;\n    display:flex;\n    align-items:center;\n    &:hover,\n    &:active,\n    &.active{\n        background-color: rgba(255, 255, 255, 0.4);\n        border-bottom:4px solid blue;\n\n    }\n}\n\n@media(min-width:","px){\n    \n    width:auto;\n    \n    a{\n        background-color:transparent;\n        color:white;\n        \n    }\n}\n"]);return A=function(){return e},e}var I=l.default.li(A(),w.medium);var S=function(e){return a.a.createElement(I,null,a.a.createElement(j.c,{to:e.link,exact:!0}," ",e.children))};var R=function(e){return a.a.createElement(C,null,a.a.createElement(S,{link:"/"},"Burger Builder"),e.isAuth&&a.a.createElement(S,{link:"/orders"},"Orders"),e.isAuth?a.a.createElement(S,{link:"/logout"},"Logout"):a.a.createElement(S,{link:"/auth"},"Sign in"))};var P=function(e){return a.a.createElement(f,null,a.a.createElement(b,{onClick:e.click},a.a.createElement("i",{className:"icon-menu"})),a.a.createElement(k,null),a.a.createElement(h,{className:"deskopOnly"},a.a.createElement(R,{isAuth:e.isAuth})))};function _(){var e=Object(u.a)(["\nposition:fixed;\nwidth:280px;\nmax-width:70%;\nheight:100%;\nleft:0;\ntop:0;\nz-index:200;\nbackground-color:white;\npadding:32px 16px;\ntransition:transform 0.3s ease-out;\n\n&.open{\n    transform:translateX(0);\n    }\n&.close{\n        transform:translateX(-100%);\n    }\n@media (min-width:500px){\n    display:none;\n}\n\n\n"]);return _=function(){return e},e}var D=l.default.div(_());function N(){var e=Object(u.a)(["\nposition:fixed;\nbackground:rgba(53, 53, 53, 0.49);\nwidth:100%;\nheight:100%;\ntop:0;\nleft:0;\nz-index:100;\ndisplay: ",";\n"]);return N=function(){return e},e}var H=l.default.div(N(),(function(e){return e.active?"block":"none"}));var U=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(H,{active:e.isOpened,onClick:e.backdropClick}),a.a.createElement(D,{className:e.isOpened?"open":"close"},a.a.createElement(k,{height:"18%"}),a.a.createElement("nav",null,a.a.createElement(R,{isAuth:e.isAuth}))))},F=t(6);var L=Object(F.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),null)((function(e){var n=Object(r.useState)(!1),t=Object(c.a)(n,2),i=t[0],o=t[1],u=function(){o(!i)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(P,{click:u,isAuth:e.isAuthenticated}),a.a.createElement(U,{isOpened:i,backdropClick:u,isAuth:e.isAuthenticated}),a.a.createElement(s,null,e.children))})),B=t(3),G=t(20),z=t.n(G),q=t(27),M=t(53);function V(){var e=Object(u.a)(["\n  width:90%;\n  margin:auto;\n  height:250px;\n  text-align:center;\n  font-weight:bold;\n  font-size:1.2rem;\n  display:flex;\n  flex-direction:column;\n  justify-content:center;\n  overflow:auto;\n\n\n  @media (min-width:","px)  { \n    width:350px;\n    height:300px;\n  }\n\n\n  @media (min-width:","px) and (min-height:","px)  { \n    width:450px;\n    height:400px;\n  }\n\n\n  @media (min-width: ","px) and (min-height:","px)  { \n    width:700px;\n    height:600px;\n  }\n\n"]);return V=function(){return e},e}var W=l.default.div(V(),w.medium,w.medium,y.medium,w.large,y.large);function Y(){var e=Object(u.a)(["\n  width: 80%;\n  height: 3%;\n  background: linear-gradient(#bf3813, #c45e38);\n  margin: 0 auto;\n"]);return Y=function(){return e},e}function J(){var e=Object(u.a)(["\n  width: 85%;\n  height: 7%;\n  margin: 0 auto;\n  background: linear-gradient(#228c1d, #91ce50);\n  border-radius: 20px;\n"]);return J=function(){return e},e}function X(){var e=Object(u.a)(["\n  width: 90%;\n  height: 4.5%;\n  margin: 0 auto;\n  background: linear-gradient(#f4d004, #d6bb22);\n  border-radius: 20px;\n"]);return X=function(){return e},e}function $(){var e=Object(u.a)(["\n  width: 80%;\n  height: 8%;\n  background: linear-gradient(#7f3608, #702e05);\n  margin: 0 auto;\n  border-radius: 15px;\n"]);return $=function(){return e},e}function K(){var e=Object(u.a)(['\n  width: 10%;\n  height: 15%;\n  position: absolute;\n  background-color: white;\n  left: 64%;\n  top: 50%;\n  border-radius: 40%;\n  transform: rotate(10deg);\n  box-shadow: inset -3px 0 #c9c9c9;\n\n  &:before {\n    content: "";\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    background-color: white;\n    left: 150%;\n    top: -130%;\n    border-radius: 40%;\n    transform: rotate(90deg);\n    box-shadow: inset 1px 3px #c9c9c9;\n  }\n']);return K=function(){return e},e}function Q(){var e=Object(u.a)(['\n  width: 10%;\n  height: 15%;\n  position: absolute;\n  background-color: white;\n  left: 30%;\n  top: 50%;\n  border-radius: 40%;\n  transform: rotate(-20deg);\n  box-shadow: inset -2px -3px #c9c9c9;\n  \n  &:after {\n    content: "";\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    background-color: white;\n    left: -170%;\n    top: -260%;\n    border-radius: 40%;\n    transform: rotate(60deg);\n    box-shadow: inset -1px 2px #c9c9c9;\n  }\n\n  &:before {\n    content: "";\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    background-color: white;\n    left: 180%;\n    top: -50%;\n    border-radius: 40%;\n    transform: rotate(60deg);\n    box-shadow: inset -1px -3px #c9c9c9;\n  }\n']);return Q=function(){return e},e}function Z(){var e=Object(u.a)(["\n  height: 20%;\n  width: 80%;\n  background: linear-gradient(#bc581e, #e27b36);\n  border-radius: 50% 50% 0 0;\n  box-shadow: inset -15px 0 #c15711;\n  margin: 0 auto;\n  position: relative;\n"]);return Z=function(){return e},e}function ee(){var e=Object(u.a)(["\n  height: 13%;\n  width: 80%;\n  background: linear-gradient(#F08E4A, #e27b36);\n  border-radius: 0 0 30px 30px;\n  box-shadow: inset -15px 0 #c15711;\n  margin: 0 auto;\n"]);return ee=function(){return e},e}var ne=l.default.div(ee()),te=l.default.div(Z()),re=l.default.div(Q()),ae=l.default.div(K()),ie=l.default.div($()),oe=l.default.div(X()),ce=l.default.div(J()),ue=l.default.div(Y()),le=t(14),de=t.n(le);function se(e){var n=null;switch(e.type){case"bread-bottom":n=a.a.createElement(ne,null);break;case"bread-top":n=a.a.createElement(te,null,a.a.createElement(re,null),a.a.createElement(ae,null));break;case"meat":n=a.a.createElement(ie,null);break;case"bacon":n=a.a.createElement(ue,null);break;case"cheese":n=a.a.createElement(oe,null);break;case"salad":n=a.a.createElement(ce,null);break;default:n=null}return n}se.propTypes={type:de.a.string.isRequired};var me=se;var ge=function(e){var n=e.ingredients,t=Object.keys(n).map((function(e){return Object(M.a)(Array(n[e])).map((function(n,t){return a.a.createElement(me,{key:e+t,type:e})}))})).reduce((function(e,n){return e.concat(n)}),[]);return a.a.createElement(W,null,a.a.createElement(me,{type:"bread-top"}),0===t.length?a.a.createElement("p",{style:{padding:"20px"}},"Please, start adding ingredients!"):t,a.a.createElement(me,{type:"bread-bottom"}))};function pe(){var e=Object(u.a)(["\nbackground-color: #DAD735;\n    outline: none;\n    cursor: pointer;\n    border: 1px solid #966909;\n    color: #966909;\n    font-family: inherit;\n    font-size: 1.2em;\n    padding: 15px 30px;\n    box-shadow: 2px 2px 2px #966909;\n\n    &:hover, &:active {\n        background-color: #A0DB41;\n        border: 1px solid #966909;\n        color: #966909;\n    }\n\n    &:disabled {\n        background-color: #C7C6C6;\n        cursor: not-allowed;\n        border: 1px solid #ccc;\n        color: #888888;\n    }\n\n    &:not(:disabled) {\n        animation: "," 0.3s linear;\n    }\n    \n\n\n\n"]);return pe=function(){return e},e}function fe(){var e=Object(u.a)(["\nwidth:100%;\nbackground-color:orange;\ndisplay:flex;\nflex-flow:column;\nalign-items:center;\nbox-shadow:0 2px 1px pink;\nmargin:auto;\npadding 10px 0;\n"]);return fe=function(){return e},e}function he(){var e=Object(u.a)(["\n0% {\n    transform: scale(1);\n}\n60% {\n    transform: scale(1.1);\n}\n100% {\n    transform: scale(1);\n}\n\n"]);return he=function(){return e},e}var be=Object(l.keyframes)(he()),ve=l.default.div(fe()),Ee=l.default.button(pe(),be);function xe(){var e=Object(u.a)(["\n\ndisplay:block;\nfont:inherit;\npadding:5px;\nmargin:0 5px;\nwidth:80px;\nborder:1px solid brown;\ncursor:pointer;\noutline:none;\ncolor: white;\n\nbackground-color:",";\n\n&:hover, &:active {  \n    background-color:",";\n}\n\n&:disabled {\n    background-color: #AC9980;\n    border: 1px solid #7E7365;\n    color: #ccc;\n    cursor: default;\n}\n&:hover:disabled {\n    background-color: #AC9980;\n    color: #ccc;\n    cursor: not-allowed;\n}\n"]);return xe=function(){return e},e}function Oe(){var e=Object(u.a)(["\npadding: 10px;\nfont-weight: bold;\nwidth: 80px;\n"]);return Oe=function(){return e},e}function je(){var e=Object(u.a)(["\ndisplay:flex;\njustify-content:space-between;\nalign-items:center;\nmargin:5px 0;\n"]);return je=function(){return e},e}var ke=l.default.div(je()),ye=l.default.div(Oe()),we=l.default.button(xe(),(function(e){return"less"===e.type?"#D39952":"green"}),(function(e){return"less"===e.type?"red":"darkgreen"}));var Te=function(e){return a.a.createElement(ke,null,a.a.createElement(ye,null,e.label),a.a.createElement(we,{type:"less",onClick:e.removed,disabled:e.disabled},"Less"),a.a.createElement(we,{onClick:e.added},"more"))},Ce=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}];var Ae=function(e){return a.a.createElement(ve,null,a.a.createElement("p",null,"Price: ",a.a.createElement("b",null,e.price.toFixed(2))),Ce.map((function(n){return a.a.createElement(Te,{key:n.label,label:n.label,added:function(){return e.ingredientAdded(n.type)},removed:function(){return e.ingredientRemoved(n.type)},disabled:e.disabled[n.type]})})),a.a.createElement(Ee,{disabled:!e.purchasable,onClick:e.orderButtonClicked},e.isAuth?"Order":"Sing in to order"))},Ie=t(28),Se=t.n(Ie),Re=t(19);function Pe(){var e=Object(u.a)(["\n  left:40%;\n"]);return Pe=function(){return e},e}function _e(){var e=Object(u.a)(["\n  left:45%;\n  top:50%;\n  transform:translate(-50%,-50%);\n  position:absolute;\n"]);return _e=function(){return e},e}var De=Object(Re.css)(_e());Object(Re.css)(Pe());var Ne=function(e){return a.a.createElement(Se.a,{css:De,color:"black"})},He=t(29),Ue=t.n(He),Fe=Ue.a.create({baseURL:"https://burger-app-2350a.firebaseio.com/"});function Le(){var e=Object(u.a)(["\nposition: fixed;\nz-index: 500;\nbackground-color: white;\nwidth: 70%;\nborder: 1px solid #ccc;\nbox-shadow: 1px 1px 1px black;\npadding:20px;\nleft: 15%;\ntop: 30%;\nbox-sizing: border-box;\ntransition: all 0.3s ease-out;\ntransform: ",";\nopacity: ",";\n\n@media (min-width: 600px) {\n\n    width: 500px;\n    left: calc(50% - 250px);\n    padding: 60px;\n}\n\n\n\n"]);return Le=function(){return e},e}var Be=l.default.div(Le(),(function(e){return e.active?"translateY(0)":"translateY(-100vh)"}),(function(e){return e.active?"1":"0"}));var Ge=a.a.memo((function(e){return o.a.createPortal(a.a.createElement(a.a.Fragment,null,a.a.createElement(H,{active:e.active,onClick:e.closeModal}),a.a.createElement(Be,{active:Boolean(e.active)},e.children)),document.getElementById("modal"))}),(function(e,n){return n.active===e.active&&n.loading===e.loading}));function ze(){var e=Object(u.a)(["\n\n\nbackground-color: transparent;\n    border: none;\n    color: ",";\n    transition:2s;\n    text-transform:uppercase;\n    background-color: ",";\n    cursor:",";\n    outline: none;\n    background-color:#e1e4e8;\n    font: inherit;\n    padding: 10px;\n    margin: 10px;\n    margin-top:20px;\n    font-weight: bold;\n    \n"]);return ze=function(){return e},e}var qe=l.default.button(ze(),(function(e){return e.success&&!e.disabled?"green":"red"}),(function(e){return e.disabled?"rgba(209, 209, 224,0.8)":"transparent"}),(function(e){return e.disabled?"not-allowed":"pointer"}));var Me=function(e){return a.a.createElement(qe,{success:e.success,onClick:e.clicked,disabled:e.disabled},e.children)};var Ve=function(e){var n=Object.keys(e.ingredients).map((function(n){return a.a.createElement("li",{key:n},n,": ",e.ingredients[n])}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Your Burger"),a.a.createElement("p",null,"the best burger"),a.a.createElement("ul",null,n),a.a.createElement("b",null,"Total price: ",e.price," "),a.a.createElement("p",null,"continue to checkout?"),a.a.createElement(Me,{clicked:e.cancel},"cancel"),a.a.createElement(Me,{success:!0,clicked:e.continue},"continue"))},We=function(e,n){return function(t){var i=Object(r.useState)(!1),o=Object(c.a)(i,2),u=o[0],l=o[1],d=n.interceptors.request.use((function(e){return l(!1),e})),s=n.interceptors.response.use((function(e){return e}),(function(e){l(e)}));Object(r.useEffect)((function(){return function(){n.interceptors.request.eject(d),n.interceptors.response.eject(s)}}),[d,s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ge,{active:u,closeModal:function(){l(!1)}},u?u.message:null),a.a.createElement(e,t))}},Ye=function(e){return function(n){e||Fe.get("https://burger-app-2350a.firebaseio.com/ingredients.json").then((function(e){n(function(e){return{type:"SET_INGREDIENTS",ingredients:e}}(e.data))})).catch((function(e){return n({type:"FETCH_INGREDIENTS_FAILED"})}))}},Je=function(e){return{type:"CHANGE_AUTH_PATH",path:e}},Xe=function(e){return{type:"PURCHASE_BURGER_SUCCESS",data:e}},$e=function(e,n){return{type:"AUTH_SUCCESS",idToken:e,userId:n}},Ke=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},Qe=function(e){return function(n){setTimeout((function(){n(Ke())}),1e3*e)}};var Ze=Object(F.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,error:e.burgerBuilder.error,purchased:e.order.purchased,isAuth:null!==e.auth.token,authPath:e.auth.authRedirectPath}}),(function(e){return{onIngredientAdded:function(n){return e(function(e){return{type:"ADD_INGREDIENT",ingredientName:e}}(n))},onIngredientRemoved:function(n){return e(function(e){return{type:"REMOVE_INGREDIENT",ingredientName:e}}(n))},onInitIngredients:function(n){return e(Ye(n))},onChangePurchased:function(){return e({type:"CHANGE_PURCHASED"})},resetIngredients:function(){return e({type:"RESET_INGREDIENTS"})},changeAuthPath:function(n){return e(Je(n))}}}))(We((function(e){var n=Object(r.useState)(!1),t=Object(c.a)(n,2),i=t[0],o=t[1],u=Object(r.useState)(!1),l=Object(c.a)(u,2),d=l[0],s=(l[1],Object(r.useState)(!1)),m=Object(c.a)(s,2),g=m[0],p=m[1],f=function(){o(!1)},h=function(){var n=Object(q.a)(z.a.mark((function n(){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.history.push({pathname:"/checkout"});case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){e.onInitIngredients(e.ingredients),e.changeAuthPath("/"),e.purchased&&(e.resetIngredients(),e.onChangePurchased())}),[]);var b=Object(B.a)({},e.ingredients);for(var v in b)b[v]=b[v]<=0;return Object(r.useEffect)((function(){if(e.ingredients){var n=Object.keys(e.ingredients).map((function(n){return e.ingredients[n]})).reduce((function(e,n){return e+n}),0);p(n>0)}}),[e.ingredients]),a.a.createElement(a.a.Fragment,null,e.ingredients?a.a.createElement(a.a.Fragment,null,a.a.createElement(ge,{ingredients:e.ingredients}),a.a.createElement(Ae,{ingredientAdded:e.onIngredientAdded,ingredientRemoved:e.onIngredientRemoved,disabled:b,purchasable:g,price:e.totalPrice,ingredients:e.ingredients,isAuth:e.isAuth,orderButtonClicked:function(){e.isAuth?o(!0):(e.history.push("/auth"),e.changeAuthPath("/checkout"))}}),a.a.createElement(Ge,{active:i,loading:d,closeModal:f},d?a.a.createElement(Ne,null):a.a.createElement(Ve,{ingredients:e.ingredients,continue:h,cancel:f,price:e.totalPrice.toFixed(2)}))):e.error?a.a.createElement("p",{style:{textAlign:"center",marginTop:"150px"}},"Connecting error"):a.a.createElement(Ne,null))}),Fe)),en=t(50);function nn(){var e=Object(u.a)(["\n","\n*{\n    padding:0;\n    margin:0;\n    box-sizing:border-box;\n}\nhtml{\n    min-height:100vh;\n    position:relative;\n}\n a{\n     text-decoration:none\n }\n ul{\n    list-style-type:none;\n }\n"]);return nn=function(){return e},e}var tn=Object(l.createGlobalStyle)(nn(),en.normalize);t(85);function rn(){var e=Object(u.a)(["\nh1{\n    margin-bottom:0;\n}\ntext-align:center;\nmargin-top:80px;\n\n@media(min-width:600px){\n   \n}\n"]);return rn=function(){return e},e}var an=l.default.div(rn());var on=function(e){return a.a.createElement(an,null,a.a.createElement("h1",null,"We hope you will happy"),e.ingredients&&a.a.createElement(ge,{ingredients:e.ingredients}),a.a.createElement(Me,{clicked:e.checkoutCancelled},"CANCEL"),a.a.createElement(Me,{success:!0,clicked:e.checkoutContinued},"Continue"))},cn=t(5);function un(){var e=Object(u.a)(["\ntext-align:center;\nfont-size:1.8rem;\ninput{\n    text-align:center;\n\n    display:block;\n    margin:10px auto;\n}\n\n\n\n"]);return un=function(){return e},e}var ln=l.default.div(un());function dn(){var e=Object(u.a)(["\nwidth:100%;\ntext-align:center;\n\n\nlabel{\n    font-weight:bold;\n    display:block;\n    margin-bottom:8px;\n}\ninput{\n    outline:none;\n    border:none;\n    border-bottom: 1px solid gray;\n    background-color:",";\n    transition:.3s;\n    padding: 5px;\n    font-size:1.4rem;\n    width: 80%;\n    text-align:center;\n    max-width: 600px;\n    margin:3px;\n  \n    \n    &:focus{\n        background-color:#e1e4e8;\n    }\n}\n\n\n\n\n\n"]);return dn=function(){return e},e}var sn=l.default.div(dn(),(function(e){return e.validate?"white":"red"}));var mn=function(e){var n=null;switch(e.elementType){case"input":n=a.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":n=a.a.createElement("textarea",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":n=a.a.createElement("select",{value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return a.a.createElement("option",{value:e.value,key:e.value},e.displayValue)})));break;default:n=a.a.createElement("input",Object.assign({},e.elementConfig,{value:e.element,onChange:e.changed}))}return a.a.createElement(sn,{validate:e.validate},a.a.createElement("label",null,e.label),n)};function gn(){var e=Object(u.a)(["\ntransform:translateX(-50px);\n  margin:50px auto;\n"]);return gn=function(){return e},e}var pn=Object(Re.css)(gn());var fn=Object(F.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{onPurchase:function(n,t){return e(function(e,n){return function(){var t=Object(q.a)(z.a.mark((function t(r){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe.post("/orders.json?auth="+n,e);case 2:a=t.sent;try{r(Xe(a)),r({type:"CHANGE_PURCHASED"})}catch(i){r({type:"PURCHASE_BURGER_FAIL",error:i})}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n,t))}}}))((function(e){var n=Object(r.useState)(!1),t=Object(c.a)(n,2),i=t[0],o=t[1],u=Object(r.useState)(!1),l=Object(c.a)(u,2),d=l[0],s=l[1],m=Object(r.useState)({name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name"},value:"",validate:!0,isTouched:!1,validation:{required:!0,minLength:3}},street:{elementType:"input",elementConfig:{type:"text",placeholder:"street"},value:"",validate:!0,isTouched:!1,validation:{required:!0}},zipCode:{elementType:"input",elementConfig:{type:"text",placeholder:"zip code"},value:"",validate:!0,isTouched:!1,validation:{required:!0,minLength:5,maxLength:6}},country:{elementType:"input",elementConfig:{type:"text",placeholder:"country"},value:"",validate:!0,isTouched:!1,validation:{required:!0}},email:{elementType:"input",elementConfig:{type:"text",placeholder:"email"},value:"",validate:!0,isTouched:!1,validation:{required:!0}},delieveryMethod:{elementType:"select",elementConfig:{options:[{value:"fastest",displayValue:"Fastest"},{value:"cheapest",displayValue:"cheapest"}]},value:"fastest",validate:!0,isTouched:!0}}),g=Object(c.a)(m,2),p=g[0],f=g[1],h=[];for(var b in p)h.push({id:b,config:p[b]});return a.a.createElement(ln,null,a.a.createElement("h3",null,"Enter your contact data"),i?a.a.createElement(Se.a,{css:pn}):a.a.createElement("form",{onSubmit:function(n){n.preventDefault(),o(!0);var t={};for(var r in p)t[r]=p[r].value;var a={ingredients:e.ingredients,price:e.totalPrice.toFixed(2),orderData:t,userId:e.userId};e.onPurchase(a,e.token)}},h.map((function(e){return a.a.createElement(mn,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,validate:e.config.validate,changed:function(n){return function(e,n){var t=Object(B.a)({},p),r=Object(B.a)({},t[n]);r.value=e.target.value,r.isTouched||(r.isTouched=!0),r.validate=function(e,n){if(!n)return!0;var t=!0;return n.required&&""===e.trim()&&(t=!1),n.minLength&&e.length<n.minLength&&(t=!1),n.maxLength&&e.length>n.maxLength&&(t=!1),t}(r.value,r.validation),t[n]=r,f(t);var a=!0;for(var i in t)if(!t[i].isTouched||!t[i].validate){a=!1;break}s(a)}(n,e.id)}})})),a.a.createElement(Me,{success:!0,disabled:!d},"Order")))}));var hn=Object(F.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,isPurchased:e.order.purchased}}))((function(e){return a.a.createElement("div",null,e.isPurchased||!e.ingredients?a.a.createElement(cn.a,{to:"/"}):null,a.a.createElement(on,{ingredients:e.ingredients,checkoutCancelled:function(){e.history.goBack()},checkoutContinued:function(){e.history.replace("/checkout/contact-data")}}),a.a.createElement(cn.b,{path:e.match.url+"/contact-data",component:fn}))})),bn={colors:{gray:{light:"rgba(204, 204, 204, 1)",normal:"rgba(156, 156, 156, 1)",dark:"rgba(92, 92, 92, 1)"},green:{normal:"rgba(23, 117, 10, 1)"},red:{normal:"rgba(238, 58, 58, 1)"},purple:{normal:"rgba(184, 58, 238, 1)"}}};function vn(){var e=Object(u.a)(["\nwidth:100%;\npadding:20px;\nborder-bottom:1px solid black;\ntext-align:center;\n\n"]);return vn=function(){return e},e}var En=l.default.div(vn());var xn=function(e){var n=[];for(var t in e.ingredients)n.push({name:t,amount:e.ingredients[t]});var r=n.map((function(e){return a.a.createElement("span",{key:e.name},e.name,": ",e.amount," ")}));return a.a.createElement(En,null,a.a.createElement("p",null,"Ingredients: ",r),a.a.createElement("p",null,"Price: USD ",e.price))};var On=Object(F.b)((function(e){return{orders:e.order.orders,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{onFetchOrders:function(n,t){return e(function(e,n){return function(t){t({type:"FETCH_ORDERS_START"});var r="?auth=".concat(e,'&orderBy="userId"&equalTo="').concat(n,'"');Fe.get("orders.json"+r).then((function(e){var n=[];for(var r in e.data)n.push(Object(B.a)(Object(B.a)({},e.data[r]),{},{id:r}));t({type:"FETCH_ORDERS_SUCCESS",orders:n})})).catch((function(e){t({type:"FETCH_ORDERS_FAIL",error:e})}))}}(n,t))}}}))(We((function(e){Object(r.useEffect)((function(){e.onFetchOrders(e.token,e.userId)}),[]);var n=a.a.createElement("h3",null,"No orders");return 0!==e.orders.length&&(n=e.orders.map((function(e){return a.a.createElement(xn,{key:e.id,price:e.price,ingredients:e.ingredients})}))),a.a.createElement("div",null,e.loading?a.a.createElement(Ne,null):n)}),Fe));var jn=Object(F.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuth:null!==e.auth.token,authPath:e.burgerBuilder.authRedirectPath}}),(function(e){return{onAuth:function(n,t,r){return e(function(e,n,t){return function(r){r({type:"AUTH_START"});var a={email:e,password:n,returnSecureToken:!0},i=t?"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCwGcPDw4T3liIhsHsaPktW7cCAV_x6J-Y":"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCwGcPDw4T3liIhsHsaPktW7cCAV_x6J-Y";Ue.a.post(i,a).then((function(e){var n=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",n),localStorage.setItem("userId",e.data.localId),r($e(e.data.idToken,e.data.localId)),r(Qe(e.data.expiresIn))})).catch((function(e){console.log(e),r({type:"AUTH_FAIL",error:e.response.data.error})}))}}(n,t,r))},changeAuthPath:function(){return e(Je("/"))}}}))((function(e){var n=Object(r.useState)(!1),t=Object(c.a)(n,2),i=t[0],o=t[1],u=Object(r.useState)({email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail adress"},value:"",validate:!0,isTouched:!1,validation:{required:!0,minLength:3}},password:{elementType:"password",elementConfig:{type:"password",placeholder:"password"},value:"",validate:!0,isTouched:!1,validation:{required:!0,minLength:6}}}),l=Object(c.a)(u,2),d=l[0],s=l[1],m=[];for(var g in d)m.push({id:g,config:d[g]});var p=m.map((function(e){return a.a.createElement(mn,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,validate:e.config.validate,changed:function(n){return function(e,n){var t=Object(B.a)({},d),r=Object(B.a)({},t[n]);for(var a in r.value=e.target.value,r.isTouched||(r.isTouched=!0),r.validate=function(e,n){if(!n)return!0;var t=!0;return n.required&&""===e.trim()&&(t=!1),n.minLength&&e.length<n.minLength&&(t=!1),n.maxLength&&e.length>n.maxLength&&(t=!1),t}(r.value,r.validation),t[n]=r,s(t),t)if(!t[a].isTouched||!t[a].validate)break}(n,e.id)}})})),f=null;return e.isAuth&&(f=a.a.createElement(cn.a,{to:e.authPath})),a.a.createElement("div",{style:{textAlign:"center",marginTop:"100px"}},f,e.error?a.a.createElement("p",null,e.error.message):null,e.loading?a.a.createElement(Ne,null):a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:function(n){n.preventDefault(),e.onAuth(d.email.value,d.password.value,i)}},p,a.a.createElement(Me,{success:!0},"Submit")),a.a.createElement(Me,{fail:!0,clicked:function(){return o(!i)}},"switch to ",i?"sign in":"sign up")))}));var kn=Object(F.b)(null,(function(e){return{onLogout:function(){return e(Ke())},changeAuthPath:function(n){return e(Je(n))},setIngredients:function(){return e(Ye())}}}))((function(e){return Object(r.useEffect)((function(){e.onLogout(),e.setIngredients(),e.changeAuthPath("/")}),[]),a.a.createElement(cn.a,{to:"/"})}));var yn=Object(F.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{autoLogin:function(){return e((function(e){var n=localStorage.getItem("token");if(n){var t=localStorage.getItem("expirationDate"),r=localStorage.getItem("userId"),a=(new Date(t).getTime()-(new Date).getTime())/1e3;e($e(n,r)),e(Qe(a))}else e(Ke())}))}}}))((function(e){Object(r.useEffect)((function(){e.autoLogin()}),[]);var n=a.a.createElement(cn.d,null,a.a.createElement(cn.b,{path:"/",exact:!0,component:Ze}),a.a.createElement(cn.b,{path:"/auth",component:jn}),a.a.createElement(cn.a,{to:"/"}));return e.isAuthenticated&&(n=a.a.createElement(cn.d,null,a.a.createElement(cn.b,{path:"/",exact:!0,component:Ze}),a.a.createElement(cn.b,{path:"/checkout",component:hn}),a.a.createElement(cn.b,{path:"/auth",component:jn}),a.a.createElement(cn.b,{path:"/orders",component:On}),a.a.createElement(cn.b,{path:"/logout",component:kn}),a.a.createElement(cn.a,{to:"/"}))),a.a.createElement(l.ThemeProvider,{theme:bn},a.a.createElement(j.a,{basename:"/Burger-app"},a.a.createElement(tn,null),a.a.createElement(L,null,n)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var wn=t(17),Tn=t(22),Cn={ingredients:null,authRedirectPath:"/",totalPrice:4,error:!1},An={salad:.5,cheese:.4,meat:1.3,bacon:1},In=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_INGREDIENT":return Object(B.a)(Object(B.a)({},e),{},{ingredients:Object(B.a)(Object(B.a)({},e.ingredients),{},Object(Tn.a)({},n.ingredientName,e.ingredients[n.ingredientName]+1)),totalPrice:e.totalPrice+An[n.ingredientName]});case"REMOVE_INGREDIENT":return Object(B.a)(Object(B.a)({},e),{},{ingredients:Object(B.a)(Object(B.a)({},e.ingredients),{},Object(Tn.a)({},n.ingredientName,e.ingredients[n.ingredientName]-1)),totalPrice:e.totalPrice-An[n.ingredientName]});case"SET_INGREDIENTS":return Object(B.a)(Object(B.a)({},e),{},{ingredients:{salad:n.ingredients.salad,bacon:n.ingredients.bacon,cheese:n.ingredients.cheese,meat:n.ingredients.meat},error:!1,totalPrice:Cn.totalPrice});case"FETCH_INGREDIENTS_FAILED":return Object(B.a)(Object(B.a)({},e),{},{error:!0});case"RESET_INGREDIENTS":var t=Object(B.a)({},e.ingredients);for(var r in t)t[r]=0;return Object(B.a)(Object(B.a)({},Cn),{},{ingredients:t});case"CHANGE_AUTH_PATH":return Object(B.a)(Object(B.a)({},e),{},{authRedirectPath:n.path});default:return e}},Sn={orders:[],error:!1,purchased:!1,loading:!1},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"PURCHASE_BURGER_SUCCESS":return Object(B.a)(Object(B.a)({},e),{},{order:n.orderData,error:!1});case"PURCHASE_BURGER_FAIL":return Object(B.a)(Object(B.a)({},e),{},{error:!0});case"CHANGE_PURCHASED":return Object(B.a)(Object(B.a)({},e),{},{purchased:!e.purchased});case"FETCH_ORDERS_START":return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case"FETCH_ORDERS_SUCCESS":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,orders:n.orders});case"FETCH_ORDERS_FAIL":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,error:!0});default:return e}},Pn={token:null,userId:null,error:null,loading:!1},_n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"AUTH_START":return Object(B.a)(Object(B.a)({},e),{},{loading:!0,error:null});case"AUTH_SUCCESS":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,error:null,token:n.idToken,userId:n.userId});case"AUTH_FAIL":return Object(B.a)(Object(B.a)({},e),{},{error:n.error,loading:!1});case"AUTH_LOGOUT":return Object(B.a)(Object(B.a)({},e),{},{token:null,userId:null});default:return e}},Dn=t(51),Nn=t(52),Hn={burgerBuilder:In,order:Rn,auth:_n},Un=Object(wn.createStore)(Object(wn.combineReducers)(Hn),Object(Dn.composeWithDevTools)(Object(wn.applyMiddleware)(Nn.a)));o.a.render(a.a.createElement(F.a,{store:Un},a.a.createElement(yn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.c70711e3.chunk.js.map